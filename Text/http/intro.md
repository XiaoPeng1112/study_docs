# 网络通信

1. 你如何理解 HTTP 和 HPPTS？
    - HTTP 就是超文本传输协议，传输是明文的，数据在网络上传输时可能被窃听或篡改。
    - HTTPS 就是在 HTTP 的基础上加了 SSL/TLS 加密层，保证了**数据加密、身份认证**和**数据完整性**。所以 HTTPS 更安全，但也带来了一点性能开销。

2. http1、http2、http3有什么区别？
    - HTTP/1.1：一个连接同一时间只能处理一个请求
    - HTTP/2：最大改进是 多路复用，一个连接里可以同时并发多个请求，解决了队头阻塞
    - HTTP/3：基于 QUIC 协议（UDP 上实现），进一步解决了 TCP 的队头阻塞。建连更快，丢包恢复更快，适合移动网络环境。
3. 你如何理解跨域，工作中哪些情况会遇到？是怎么解决的？
    - 跨域就是浏览器的 同源策略 限制，不允许不同协议、域名或端口的请求随便访问。比如前端页面是 http://a.com，想请求 http://b.com/api，就会触发跨域。
    - 调用第三方接口，比如支付、地图、登录。
    - 常见解决方案：
        1. CORS：最标准的方式，后端设置 Access-Control-Allow-Origin。
        2. 代理转发：开发时用 webpack proxy 或 Nginx，把前端请求代理到同域。
        3. JSONP：早期的跨域方案，只能处理 GET 请求。
        4. postMessage / window.name / iframe：一些特殊跨域通信方案。

4. Vite里面配置跨域是设置proxy，这个是对开发环境的，生产环境呢
    - 开发环境：Vite proxy 解决。
    - 生产环境：需要后端或运维配合，常见是 Nginx 反向代理 或 后端 CORS。

5. 三种实时通信方式：长轮询、WebSocket 和 SSE。
    - 长轮询是最早期的伪实时方案，缺点是频繁建请求；
    - WebSocket 建立 TCP 长连接，支持全双工实时通信，适合聊天和游戏；
    - SSE 基于 HTTP 单向流，非常适合 AI 助手这种 Token 流式推送。项目里的 AI 助手流式渲染就是用 SSE 来做的，通过 ReadableStream + TextDecoder 解析服务端的推送，实现逐字展示。”
| 技术        | 通信方式       | 实时性 | 消息方向      | 典型应用场景       |
| --------- | ---------- | --- | --------- | ------------ |
| 长轮询       | HTTP 请求/响应 | 伪实时 | 单向        | 简单通知，兼容性要求高  |
| WebSocket | 协议升级 → TCP | 实时  | 双向        | 聊天室、弹幕、股票、游戏 |
| SSE       | HTTP 单向流   | 实时  | 服务端 → 客户端 | AI 流式响应、日志监控 |

